<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>TecnoPlus | Venta de Equipo de Cómputo</title>
  <meta name="description" content="Tienda en línea de equipo de cómputo: laptops, desktops, accesorios y más. Construida con Bootstrap 5." />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet" />
  <style>
    :root {
      --brand: #6f42c1;
      --brand-2: #20c997;
    }
    .navbar-brand span { color: var(--brand); font-weight: 700; }
    .bg-gradient-hero {
      background: radial-gradient(80% 120% at 10% 10%, rgba(111,66,193,.12), transparent),
                  radial-gradient(80% 120% at 90% 0%, rgba(32,201,151,.12), transparent),
                  linear-gradient(180deg, #f8f9fa 0%, #ffffff 100%);
    }
    .category-pill { cursor:pointer }
    .card-product:hover { transform: translateY(-4px); box-shadow: 0 1rem 2rem rgba(0,0,0,.08) }
    .rating i { color: #f59f00 }
    .badge-new { background: linear-gradient(135deg, var(--brand), #a98eda) }
    .badge-off { background: linear-gradient(135deg, #dc3545, #fd7e14) }
    .offcanvas-cart .list-group-item { border: 0; border-bottom: 1px solid rgba(0,0,0,.06) }
    .filter-chip { cursor:pointer }
    .form-floating>label>span { color:#6c757d }
    .sticky-toolbar { position: fixed; right: 1rem; bottom: 1rem; z-index: 1045 }
    .sticky-toolbar .btn { box-shadow: 0 .5rem 1rem rgba(0,0,0,.15) }
    .footer-link { text-decoration: none }
    .footer-link:hover { text-decoration: underline }
  </style>
</head>
<body class="bg-light">
  <!-- NAV -->
  <nav class="navbar navbar-expand-lg bg-white border-bottom sticky-top">
    <div class="container">
      <a class="navbar-brand d-flex align-items-center" href="#">
        <i class="bi bi-cpu me-2 fs-4 text-primary"></i>
        <span>TecnoPlus</span>
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbars" aria-controls="navbars" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbars">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item"><a class="nav-link active" href="COMPUPRObetaaaa.html">Inicio</a></li>
          <li class="nav-item"><a class="nav-link" href="CATALOGO98.html">Catálogo</a></li>
          <li class="nav-item"><a class="nav-link" href="COMPUPROOFERTAS.html">Ofertas</a></li>
          <li class="nav-item"><a class="nav-link" href="COMPUPROCONTACTO.html">Contacto</a></li>
          <li class="nav-item"><a class="nav-link" href="COMPUPROFAQ.html">FAQ</a></li>
        </ul>
        <form class="d-flex me-2" role="search" onsubmit="event.preventDefault()">
          <input id="searchInput" class="form-control" type="search" placeholder="Buscar productos..." aria-label="Buscar">
        </form>
        <button class="btn btn-outline-primary me-2" data-bs-toggle="offcanvas" data-bs-target="#filtersCanvas" aria-controls="filtersCanvas">
          <i class="bi bi-sliders"></i>
        </button>
        <button class="btn btn-primary position-relative" data-bs-toggle="offcanvas" data-bs-target="#cartCanvas" aria-controls="cartCanvas">
          <i class="bi bi-bag"></i>
          <span id="cartCount" class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">0</span>
        </button>
      </div>
    </div>
  </nav>

  <!-- HERO -->
  <header id="inicio" class="bg-gradient-hero border-bottom">
    <div class="container py-5">
      <div class="row align-items-center g-4">
        <div class="col-lg-6">
          <h1 class="display-5 fw-bold">Potencia tu mundo digital</h1>
          <p class="lead text-secondary">Laptops, desktops, periféricos y componentes con envío rápido y garantía en México. Arma tu equipo ideal hoy.</p>
          <div class="d-flex gap-2">
            <a href="CATALOGO98.html" class="btn btn-primary btn-lg"><i class="bi bi-shop me-1"></i> Ver catálogo</a>
            <a href="COMPUPROFAQ.html" class="btn btn-outline-secondary btn-lg"><i class="bi bi-chat-dots me-1"></i> Asesoría gratuita</a>
          </div>
          <div class="mt-4 d-flex gap-2 flex-wrap">
            <span class="badge rounded-pill text-bg-light border">Envío 24-48h</span>
            <span class="badge rounded-pill text-bg-light border">12 MSI</span>
            <span class="badge rounded-pill text-bg-light border">Garantía hasta 3 años</span>
          </div>
        </div>
        <div class="col-lg-6 text-center">
          <img class="img-fluid rounded shadow" src="https://picsum.photos/900/520?random=13" alt="Setup de cómputo"/>
        </div>
      </div>
    </div>
  </header>

  <!-- CATEGORÍAS / PILLS -->
  <section class="py-4 bg-white border-bottom">
    <div class="container">
      <div class="d-flex flex-wrap gap-2 align-items-center">
        <span class="text-muted me-1">Categorías:</span>
        <span class="badge text-bg-primary category-pill" data-category="all">Todas</span>
        <span class="badge text-bg-secondary category-pill" data-category="laptop">Laptops</span>
        <span class="badge text-bg-secondary category-pill" data-category="desktop">Desktops</span>
        <span class="badge text-bg-secondary category-pill" data-category="componentes">Componentes</span>
        <span class="badge text-bg-secondary category-pill" data-category="perifericos">Periféricos</span>
        <span class="badge text-bg-secondary category-pill" data-category="monitores">Monitores</span>
        <span class="badge text-bg-secondary category-pill" data-category="almacenamiento">Almacenamiento</span>
      </div>
    </div>
  </section>

  <!-- CATÁLOGO -->
  <section id="catalogo" class="py-5">
    <div class="container">
      <div class="d-flex justify-content-between align-items-center mb-3">
        <h2 class="fw-semibold mb-0">Catálogo destacado</h2>
        <div class="text-muted">Resultados: <span id="resultsCount">0</span></div>
      </div>

      <!-- GRID -->
      <div id="productsGrid" class="row g-4">
        <!-- PRODUCTOS (clonables) -->
      </div>

      <!-- PAGINACIÓN (visual) -->
      <nav class="mt-4" aria-label="Paginación de productos">
        <ul id="pagination" class="pagination justify-content-center"></ul>
      </nav>
    </div>
  </section>

  <!-- OFERTAS -->
  <section id="ofertas" class="py-5 bg-white border-top border-bottom">
    <div class="container">
      <div class="row align-items-center g-4">
        <div class="col-lg-7">
          <h3 class="fw-semibold">Semana Gamer: hasta 35% de descuento</h3>
          <p class="mb-3 text-secondary">Aprovecha precios especiales en GPUs, monitores de alta tasa de refresco y sillas ergonómicas. Promoción válida hasta agotar existencias.</p>
          <a href="#catalogo" class="btn btn-success btn-lg"><i class="bi bi-lightning-charge"></i> Ver ofertas</a>
        </div>
        <div class="col-lg-5 text-center">
          <img class="img-fluid rounded shadow" src="https://picsum.photos/800/400?random=22" alt="Ofertas"/>
        </div>
      </div>
    </div>
  </section>

  <!-- ASESORÍA / FEATURES -->
  <section id="asesoria" class="py-5">
    <div class="container">
      <div class="row g-4">
        <div class="col-lg-3 col-md-6">
          <div class="card h-100 border-0 shadow-sm">
            <div class="card-body">
              <div class="d-flex align-items-center mb-2">
                <i class="bi bi-truck fs-3 me-2 text-primary"></i>
                <h5 class="mb-0">Entrega Rápida</h5>
              </div>
              <p class="text-secondary mb-0">Cobertura nacional con múltiples paqueterías y rastreo en tiempo real.</p>
            </div>
          </div>
        </div>
        <div class="col-lg-3 col-md-6">
          <div class="card h-100 border-0 shadow-sm">
            <div class="card-body">
              <div class="d-flex align-items-center mb-2">
                <i class="bi bi-shield-check fs-3 me-2 text-primary"></i>
                <h5 class="mb-0">Garantía Oficial</h5>
              </div>
              <p class="text-secondary mb-0">Productos nuevos, sellados y con garantía directa del fabricante.</p>
            </div>
          </div>
        </div>
        <div class="col-lg-3 col-md-6">
          <div class="card h-100 border-0 shadow-sm">
            <div class="card-body">
              <div class="d-flex align-items-center mb-2">
                <i class="bi bi-credit-card fs-3 me-2 text-primary"></i>
                <h5 class="mb-0">Pagos Seguros</h5>
              </div>
              <p class="text-secondary mb-0">Tarjetas, transferencias y pagos en efectivo en tiendas participantes.</p>
            </div>
          </div>
        </div>
        <div class="col-lg-3 col-md-6">
          <div class="card h-100 border-0 shadow-sm">
            <div class="card-body">
              <div class="d-flex align-items-center mb-2">
                <i class="bi bi-headset fs-3 me-2 text-primary"></i>
                <h5 class="mb-0">Soporte Experto</h5>
              </div>
              <p class="text-secondary mb-0">Ingenieros certificados listos para ayudarte a elegir o configurar.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- TESTIMONIOS -->
  <section class="py-5 bg-white border-top">
    <div class="container">
      <div class="row g-4 align-items-center">
        <div class="col-lg-5">
          <h3 class="fw-semibold mb-3">Clientes felices</h3>
          <p class="text-secondary">Más de 10,000 pedidos entregados con calificación promedio de 4.8/5.</p>
          <div class="d-flex align-items-center gap-3">
            <img class="rounded-circle" src="https://i.pravatar.cc/60?img=12" alt=""/>
            <div>
              <div class="rating mb-1">
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-half"></i>
              </div>
              <p class="mb-0"><strong>Ana</strong>: “Compré una laptop para diseño y llegó al día siguiente. ¡Excelente!”</p>
            </div>
          </div>
        </div>
        <div class="col-lg-7 text-center">
          <img class="img-fluid rounded shadow" src="https://picsum.photos/900/450?random=31" alt="Clientes satisfechos"/>
        </div>
      </div>
    </div>
  </section>

  <!-- CONTACTO -->
  <section id="contacto" class="py-5">
    <div class="container">
      <div class="row g-4">
        <div class="col-lg-6">
          <h3 class="fw-semibold">Contáctanos</h3>
          <p class="text-secondary">¿Tienes dudas? Envíanos un mensaje y te responderemos a la brevedad.</p>
          <form class="needs-validation" novalidate>
            <div class="row g-3">
              <div class="col-md-6">
                <div class="form-floating">
                  <input type="text" class="form-control" id="name" placeholder="Tu nombre" required>
                  <label for="name">Nombre <span>*</span></label>
                  <div class="invalid-feedback">Ingresa tu nombre.</div>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-floating">
                  <input type="email" class="form-control" id="email" placeholder="nombre@correo.com" required>
                  <label for="email">Correo <span>*</span></label>
                  <div class="invalid-feedback">Ingresa un correo válido.</div>
                </div>
              </div>
              <div class="col-12">
                <div class="form-floating">
                  <textarea class="form-control" id="message" style="height: 120px" placeholder="Mensaje" required></textarea>
                  <label for="message">Mensaje <span>*</span></label>
                  <div class="invalid-feedback">Cuéntanos en qué podemos ayudarte.</div>
                </div>
              </div>
              <div class="col-12 d-grid d-sm-flex gap-2">
                <button class="btn btn-primary btn-lg" type="submit"><i class="bi bi-send"></i> Enviar</button>
                <a href="tel:+525500000000" class="btn btn-outline-secondary btn-lg"><i class="bi bi-telephone"></i> Llamar</a>
              </div>
            </div>
          </form>
        </div>
        <div class="col-lg-6">
          <div class="ratio ratio-16x9 rounded overflow-hidden shadow-sm">
            <iframe src="https://maps.google.com/maps?q=Mexico%20City&t=&z=11&ie=UTF8&iwloc=&output=embed" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
          </div>
          <ul class="list-unstyled mt-3 text-secondary">
            <li><i class="bi bi-geo-alt me-2"></i>CDMX, México</li>
            <li><i class="bi bi-clock me-2"></i>L–S 9:00–19:00</li>
            <li><i class="bi bi-envelope me-2"></i>soporte@tecnoplus.mx</li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ -->
  <section id="faq" class="py-5 bg-white border-top">
    <div class="container">
      <h3 class="fw-semibold mb-3">Preguntas frecuentes</h3>
      <div class="accordion" id="faqAcc">
        <div class="accordion-item">
          <h2 class="accordion-header" id="q1"><button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#a1">¿Hacen factura?</button></h2>
          <div id="a1" class="accordion-collapse collapse show" data-bs-parent="#faqAcc"><div class="accordion-body">Sí, emitimos CFDI 4.0 para personas físicas y morales.</div></div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header" id="q2"><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#a2">¿Cuáles son los métodos de pago?</button></h2>
          <div id="a2" class="accordion-collapse collapse" data-bs-parent="#faqAcc"><div class="accordion-body">Aceptamos tarjetas de crédito/débito, SPEI, y pagos en efectivo en OXXO mediante referencia.</div></div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header" id="q3"><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#a3">¿Tiempo de entrega?</button></h2>
          <div id="a3" class="accordion-collapse collapse" data-bs-parent="#faqAcc"><div class="accordion-body">De 24 a 72 horas hábiles en promedio, dependiendo de la ciudad y paquetería.</div></div>
        </div>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="py-5 border-top bg-white">
    <div class="container">
      <div class="row g-4">
        <div class="col-md-4">
          <h5 class="fw-semibold">TecnoPlus</h5>
          <p class="text-secondary">Tu aliado en tecnología. Equipos y componentes originales con soporte experto.</p>
        </div>
        <div class="col-md-4">
          <h6 class="fw-semibold">Enlaces</h6>
          <ul class="list-unstyled">
            <li><a class="footer-link text-secondary" href="#catalogo">Catálogo</a></li>
            <li><a class="footer-link text-secondary" href="#ofertas">Ofertas</a></li>
            <li><a class="footer-link text-secondary" href="#contacto">Contacto</a></li>
            <li><a class="footer-link text-secondary" href="#faq">FAQ</a></li>
          </ul>
        </div>
        <div class="col-md-4">
          <h6 class="fw-semibold">Boletín</h6>
          <form class="d-flex gap-2" onsubmit="event.preventDefault(); newsletter()">
            <input id="newsletterEmail" type="email" class="form-control" placeholder="tu@correo.com" required />
            <button class="btn btn-primary" type="submit">Suscribirme</button>
          </form>
        </div>
      </div>
      <div class="text-center text-secondary mt-4">© <span id="year"></span> TecnoPlus. Todos los derechos reservados.</div>
    </div>
  </footer>

  <!-- STICKY TOOLBAR -->
  <div class="sticky-toolbar d-flex flex-column gap-2">
    <a href="COMPUPROCATALOGO.html" class="btn btn-primary"><i class="bi bi-grid"></i></a>
    <a href="COMPUPROCONTACTO.html" class="btn btn-outline-secondary"><i class="bi bi-envelope"></i></a>
  </div>

  <!-- OFFCANVAS: FILTROS -->
  <div class="offcanvas offcanvas-start" tabindex="-1" id="filtersCanvas" aria-labelledby="filtersCanvasLabel">
    <div class="offcanvas-header">
      <h5 id="filtersCanvasLabel">Filtros</h5>
      <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
      <div class="mb-3">
        <label class="form-label">Rango de precio</label>
        <input type="range" class="form-range" min="999" max="79999" id="priceRange" />
        <div class="d-flex justify-content-between"><span>$1,000</span><span id="priceRangeVal">$79,999</span></div>
      </div>
      <div class="mb-3">
        <label class="form-label">Marca</label>
        <div class="d-flex flex-wrap gap-2">
          <span class="badge text-bg-light border filter-chip" data-filter="brand" data-value="Acer">Acer</span>
          <span class="badge text-bg-light border filter-chip" data-filter="brand" data-value="ASUS">ASUS</span>
          <span class="badge text-bg-light border filter-chip" data-filter="brand" data-value="Lenovo">Lenovo</span>
          <span class="badge text-bg-light border filter-chip" data-filter="brand" data-value="HP">HP</span>
          <span class="badge text-bg-light border filter-chip" data-filter="brand" data-value="MSI">MSI</span>
        </div>
      </div>
      <div class="mb-3">
        <label class="form-label">Memoria RAM</label>
        <select id="ramSelect" class="form-select">
          <option value="">Cualquiera</option>
          <option>8GB</option>
          <option>16GB</option>
          <option>32GB</option>
        </select>
      </div>
      <div class="d-grid gap-2">
        <button class="btn btn-primary" id="applyFilters"><i class="bi bi-funnel"></i> Aplicar</button>
        <button class="btn btn-outline-secondary" id="clearFilters">Limpiar</button>
      </div>
    </div>
  </div>

  <!-- OFFCANVAS: CARRITO -->
  <div class="offcanvas offcanvas-end offcanvas-cart" tabindex="-1" id="cartCanvas" aria-labelledby="cartCanvasLabel">
    <div class="offcanvas-header">
      <h5 id="cartCanvasLabel"><i class="bi bi-bag me-2"></i>Tu carrito</h5>
      <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body d-flex flex-column">
      <ul id="cartList" class="list-group list-group-flush mb-3"></ul>
      <div class="mt-auto">
        <div class="d-flex justify-content-between align-items-center fw-semibold mb-3">
          <span>Total</span>
          <span id="cartTotal">$0.00</span>
        </div>
        <div class="d-grid gap-2">
          <button class="btn btn-success" id="checkoutBtn"><i class="bi bi-credit-card"></i> Proceder al pago</button>
          <button class="btn btn-outline-danger" id="clearCartBtn"><i class="bi bi-trash"></i> Vaciar carrito</button>
        </div>
      </div>
    </div>
  </div>

  <!-- TOAST -->
  <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 1080">
    <div id="liveToast" class="toast align-items-center" role="status" aria-live="polite" aria-atomic="true">
      <div class="d-flex">
        <div class="toast-body">Producto agregado al carrito.</div>
        <button type="button" class="btn-close me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
      </div>
    </div>
  </div>

  <!-- TEMPLATE: PRODUCT CARD (hidden) -->
  <template id="productTemplate">
    <div class="col-12 col-sm-6 col-lg-4 col-xl-3">
      <div class="card card-product h-100 border-0 shadow-sm" data-category="" data-brand="" data-ram="" data-price="">
        <div class="position-absolute top-0 start-0 m-2 d-flex gap-1"></div>
        <img class="card-img-top" alt="Producto" loading="lazy" />
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-start mb-2">
            <h6 class="card-title"></h6>
            <small class="text-secondary"></small>
          </div>
          <p class="card-text text-secondary small"></p>
          <div class="d-flex justify-content-between align-items-center">
            <div>
              <div class="fw-bold price"></div>
              <div class="rating small"></div>
            </div>
            <button class="btn btn-primary btn-sm addToCart"><i class="bi bi-cart-plus"></i></button>
          </div>
        </div>
      </div>
    </div>
  </template>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // ===== Datos de ejemplo =====
    const PRODUCTS = [
      { id:1, title:"Laptop Pro 14" , brand:"ASUS", category:"laptop", ram:"16GB", price:24999, desc:"Ryzen 7 · 512GB SSD · OLED 90Hz", img:"https://picsum.photos/seed/lap1/600/400", tags:["new"], rating:4.7 },
      { id:2, title:"Laptop Ultra 15", brand:"Lenovo", category:"laptop", ram:"8GB", price:14999, desc:"Core i5 · 256GB SSD · IPS", img:"https://picsum.photos/seed/lap2/600/400", tags:["off"], rating:4.4 },
      { id:3, title:"Monitor 27'' QHD 165Hz", brand:"MSI", category:"monitores", ram:"", price:6999, desc:"VA Curvo · Adaptive Sync", img:"https://picsum.photos/seed/mon1/600/400", tags:["new"], rating:4.6 },
      { id:4, title:"SSD NVMe 1TB Gen4", brand:"HP", category:"almacenamiento", ram:"", price:1799, desc:"Hasta 5000 MB/s", img:"https://picsum.photos/seed/ssd1/600/400", tags:[], rating:4.8 },
      { id:5, title:"Desktop Creator i7", brand:"ASUS", category:"desktop", ram:"32GB", price:38999, desc:"i7 12ª · RTX 4060 · 1TB SSD", img:"https://picsum.photos/seed/desk1/600/400", tags:["off"], rating:4.9 },
      { id:6, title:"Teclado Mecánico RGB", brand:"Acer", category:"perifericos", ram:"", price:999, desc:"Switch rojo · 61 teclas", img:"https://picsum.photos/seed/key1/600/400", tags:[], rating:4.5 },
      { id:7, title:"GPU GeForce RTX 4070", brand:"MSI", category:"componentes", ram:"", price:12999, desc:"12GB GDDR6X · DLSS 3", img:"https://picsum.photos/seed/gpu1/600/400", tags:["new"], rating:4.9 },
      { id:8, title:"Mouse Inalámbrico Pro", brand:"HP", category:"perifericos", ram:"", price:799, desc:"Bluetooth 5.1 · 16000 DPI", img:"https://picsum.photos/seed/mou1/600/400", tags:[], rating:4.3 },
      { id:9, title:"All-in-One 24''", brand:"Lenovo", category:"desktop", ram:"16GB", price:18999, desc:"Core i5 · 512GB SSD", img:"https://picsum.photos/seed/aio1/600/400", tags:[], rating:4.1 },
      { id:10, title:"RAM DDR5 32GB (2x16)", brand:"ASUS", category:"componentes", ram:"32GB", price:1999, desc:"5600 MHz CL32", img:"https://picsum.photos/seed/ram1/600/400", tags:[], rating:4.7 },
      { id:11, title:"Laptop Business 14", brand:"HP", category:"laptop", ram:"16GB", price:17999, desc:"Ryzen 5 · 512GB SSD · Wi‑Fi 6", img:"https://picsum.photos/seed/lap3/600/400", tags:[], rating:4.2 },
      { id:12, title:"Monitor 34'' Ultrawide", brand:"Acer", category:"monitores", ram:"", price:8999, desc:"IPS · 100Hz · USB‑C", img:"https://picsum.photos/seed/mon2/600/400", tags:["off"], rating:4.6 },
      { id:13, title:"Enfriamiento Líquido 240mm", brand:"MSI", category:"componentes", ram:"", price:1599, desc:"ARGB · PWM", img:"https://picsum.photos/seed/cool1/600/400", tags:[], rating:4.4 },
      { id:14, title:"Disco Externo 2TB", brand:"Lenovo", category:"almacenamiento", ram:"", price:1499, desc:"USB 3.2 Gen1", img:"https://picsum.photos/seed/hdd1/600/400", tags:[], rating:4.5 },
      { id:15, title:"Silla Ergonómica", brand:"Acer", category:"perifericos", ram:"", price:2999, desc:"Lumbar ajustable · Reclinable", img:"https://picsum.photos/seed/chair1/600/400", tags:[], rating:4.0 },
      { id:16, title:"Mini PC Ryzen 7", brand:"ASUS", category:"desktop", ram:"32GB", price:22499, desc:"Wi‑Fi 6E · 1TB SSD", img:"https://picsum.photos/seed/mini1/600/400", tags:["new"], rating:4.8 }
    ];

    // ===== Estado =====
    const state = {
      search: '',
      category: 'all',
      maxPrice: 79999,
      brand: '',
      ram: '',
      page: 1,
      perPage: 8,
      cart: []
    };

    // ===== Utilidades =====
    const $ = sel => document.querySelector(sel);
    const $$ = sel => document.querySelectorAll(sel);
    const money = n => n.toLocaleString('es-MX', { style:'currency', currency:'MXN' });

    // ===== Render productos =====
    function renderProducts(){
      const grid = $('#productsGrid');
      grid.innerHTML = '';

      // filtro
      let filtered = PRODUCTS.filter(p => {
        const matchSearch = state.search === '' || (p.title + ' ' + p.desc + ' ' + p.brand).toLowerCase().includes(state.search.toLowerCase());
        const matchCat = state.category === 'all' || p.category === state.category;
        const matchPrice = p.price <= state.maxPrice;
        const matchBrand = state.brand === '' || p.brand === state.brand;
        const matchRam = state.ram === '' || p.ram === state.ram;
        return matchSearch && matchCat && matchPrice && matchBrand && matchRam;
      });

      // paginación
      const total = filtered.length;
      const totalPages = Math.max(1, Math.ceil(total / state.perPage));
      if(state.page > totalPages) state.page = 1;
      const start = (state.page - 1) * state.perPage;
      const end = start + state.perPage;
      const pageItems = filtered.slice(start, end);

      $('#resultsCount').textContent = total;

      // cards
      const tpl = $('#productTemplate');
      pageItems.forEach(p => {
        const node = tpl.content.cloneNode(true);
        const card = node.querySelector('.card-product');
        card.dataset.category = p.category;
        card.dataset.brand = p.brand;
        card.dataset.ram = p.ram;
        card.dataset.price = p.price;
        node.querySelector('img').src = p.img;
        node.querySelector('img').alt = p.title;
        node.querySelector('.card-title').textContent = p.title;
        node.querySelector('.card-text').textContent = p.desc;
        node.querySelector('.price').textContent = money(p.price);
        node.querySelector('small').textContent = p.brand;
        // badges
        const badgeBox = node.querySelector('.position-absolute');
        if(p.tags.includes('new')){
          const b = document.createElement('span'); b.className='badge badge-new text-white rounded-pill'; b.textContent='Nuevo'; badgeBox.appendChild(b);
        }
        if(p.tags.includes('off')){
          const b = document.createElement('span'); b.className='badge badge-off text-white rounded-pill'; b.textContent='Oferta'; badgeBox.appendChild(b);
        }
        // rating
        const r = node.querySelector('.rating');
        const full = Math.floor(p.rating);
        const half = p.rating - full >= 0.5;
        for(let i=0;i<full;i++){ r.innerHTML += '<i class="bi bi-star-fill"></i>'; }
        if(half) r.innerHTML += '<i class="bi bi-star-half"></i>';
        for(let i=(half?full+1:full); i<5; i++){ r.innerHTML += '<i class="bi bi-star"></i>'; }
        // add to cart
        node.querySelector('.addToCart').addEventListener('click', ()=> addToCart(p));
        grid.appendChild(node);
      });

      renderPagination(totalPages);
    }

    function renderPagination(totalPages){
      const pag = $('#pagination');
      pag.innerHTML = '';
      const mk = (label, page, disabled=false, active=false) => {
        const li = document.createElement('li');
        li.className = 'page-item' + (disabled? ' disabled':'') + (active? ' active':'');
        const a = document.createElement('a');
        a.className = 'page-link'; a.href = '#'; a.textContent = label;
        a.addEventListener('click', (e)=>{ e.preventDefault(); if(!disabled){ state.page = page; renderProducts(); window.scrollTo({top: document.querySelector('#catalogo').offsetTop - 80, behavior:'smooth'}); } });
        li.appendChild(a); return li;
      };
      pag.appendChild(mk('«', Math.max(1, state.page-1), state.page===1));
      for(let i=1; i<=totalPages; i++) pag.appendChild(mk(i, i, false, i===state.page));
      pag.appendChild(mk('»', Math.min(totalPages, state.page+1), state.page===totalPages));
    }

    // ===== Carrito =====
    
    function clearCart(){ state.cart = []; updateCartUI(); }

    function updateCartUI(){
      const list = $('#cartList');
      list.innerHTML = '';
      let total = 0;
      state.cart.forEach(i => {
        total += i.price * i.qty;
        const li = document.createElement('li');
        li.className = 'list-group-item d-flex gap-2 align-items-center';
        li.innerHTML = `
          <img src="${i.img}" alt="${i.title}" class="rounded" width="56" height="40" style="object-fit:cover"/>
          <div class="flex-grow-1">
            <div class="d-flex justify-content-between">
              <strong>${i.title}</strong>
              <span>${money(i.price * i.qty)}</span>
            </div>
            <small class="text-secondary">${i.brand}</small>
            <div class="mt-1 d-flex align-items-center gap-2">
              <button class="btn btn-sm btn-outline-secondary" aria-label="-1">−</button>
              <span>${i.qty}</span>
              <button class="btn btn-sm btn-outline-secondary" aria-label="+1">+</button>
              <button class="btn btn-sm btn-outline-danger ms-auto" aria-label="Eliminar"><i class="bi bi-x"></i></button>
            </div>
          </div>`;
        const [minus, , plus, del] = li.querySelectorAll('button');
        minus.addEventListener('click', ()=> updateQty(i.id, -1));
        plus.addEventListener('click', ()=> updateQty(i.id, +1));
        del.addEventListener('click', ()=> removeFromCart(i.id));
        list.appendChild(li);
      });
      $('#cartTotal').textContent = money(total);
      $('#cartCount').textContent = state.cart.reduce((s, i) => s + i.qty, 0);
    }

    // ===== Filtros y búsqueda =====
    function applyFilters(){
      const range = $('#priceRange');
      state.maxPrice = Number(range.value || 79999);
      state.ram = $('#ramSelect').value;
      state.page = 1;
      renderProducts();
    }

    function clearFilters(){
      state.category = 'all';
      state.maxPrice = 79999;
      state.brand = '';
      state.ram = '';
      $('#searchInput').value = '';
      $('#priceRange').value = 79999;
      $('#priceRangeVal').textContent = '$79,999';
      $$('.category-pill').forEach(b=> b.classList.replace('text-bg-primary','text-bg-secondary'));
      document.querySelector('.category-pill[data-category="all"]').classList.replace('text-bg-secondary','text-bg-primary');
      $$('.filter-chip').forEach(c=> c.classList.remove('text-bg-primary'));
      applyFilters();
    }

    // Newsletter (demo)
    function newsletter(){
      const email = $('#newsletterEmail');
      if(email.checkValidity()){
        alert('¡Gracias por suscribirte, ' + email.value + '!');
        email.value = '';
      }
    }

    // ===== Eventos iniciales =====
    document.addEventListener('DOMContentLoaded', ()=>{
      // Año en footer
      $('#year').textContent = new Date().getFullYear();

      // Inicializar rango
      const range = $('#priceRange');
      range.value = state.maxPrice;
      range.addEventListener('input', ()=> $('#priceRangeVal').textContent = money(range.value));

      // Categorías
      $$('.category-pill').forEach(pill => pill.addEventListener('click', ()=>{
        $$('.category-pill').forEach(b=> b.classList.replace('text-bg-primary','text-bg-secondary'));
        pill.classList.replace('text-bg-secondary','text-bg-primary');
        state.category = pill.dataset.category;
        state.page = 1;
        renderProducts();
      }));

      // Chips de marca
      $$('.filter-chip').forEach(chip => chip.addEventListener('click', ()=>{
        $$('.filter-chip').forEach(c=> c.classList.remove('text-bg-primary'));
        chip.classList.add('text-bg-primary');
        state.brand = chip.dataset.value;
      }));

      // Búsqueda
      $('#searchInput').addEventListener('input', (e)=>{ state.search = e.target.value; state.page=1; renderProducts(); });

      // Botones filtros
      $('#applyFilters').addEventListener('click', applyFilters);
      $('#clearFilters').addEventListener('click', clearFilters);

      // Carrito botones
      $('#clearCartBtn').addEventListener('click', clearCart);
      $('#checkoutBtn').addEventListener('click', ()=> alert('Demo: aquí iniciarías el proceso de pago.'));

      // Validación de formulario de contacto
      (()=>{
        const forms = document.querySelectorAll('.needs-validation');
        Array.from(forms).forEach(form => {
          form.addEventListener('submit', event => {
            if (!form.checkValidity()) {
              event.preventDefault();
              event.stopPropagation();
            } else {
              event.preventDefault();
              alert('¡Mensaje enviado! Te contactaremos por correo.');
              form.reset();
            }
            form.classList.add('was-validated');
          }, false);
        });
      })();

      // Primera carga
      renderProducts();
    });
  </script>
</body>
</html>
